<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: url/urlUtils.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: url/urlUtils.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
 * @Author: zhangyu
 * @Email: zhangdulin@outlook.com
 * @Date: 2021-06-09 14:28:20
 * @LastEditors: zhangyu
 * @LastEditTime: 2021-06-10 09:10:35
 * @Description:
 */

/**
 * @description: 設置url參數
 * @param {*} url url
 * @param {*} obj 參數對象
 * @return {*} url + 參數
 */
function setParam(url, obj) {
    if (typeof obj !== 'object') {
      return url;
    }

    for (const key in obj) {
      let value = obj[key];
      if (value === false) {
        value = String(value);
      }
      if (value) {
        url = url.replace(
          new RegExp('(^|\\?|&amp;)' + key + '=[^&amp;]*(?=&amp;|$|#)', 'g'),
          ''
        );
        value = value.splice ? value : [value];
        for (let i = value.length - 1; i >= 0; i--) {
          value[i] = encodeURIComponent(value[i]);
        }
        const p = key + '=' + value.join('&amp;' + key + '=');
        url = url + (/\?/.test(url) ? '&amp;' : '?') + p;
      }
    }
    return url;
  }

  /**
   * @description: 獲取url 參數
   * @param {*} key key 指定參數返回字符串  默認返回對象
   * @return {*} 字符串或
   */
  function getParam(key) {
    const url = location.search; // 获取url中"?"符后的字串
    const theRequest = {};
    if (url.indexOf("?") != -1) {
       const str = url.substr(1);
       const strs = str.split("&amp;");
       for (let i = 0; i &lt; strs.length; i++) {
          theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
       }
    }
    return theRequest;
 }
  module.exports = {
    setParam,
    getParam
  };

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#dateFormat1">dateFormat1</a></li><li><a href="global.html#dateFormat2">dateFormat2</a></li><li><a href="global.html#elDateFormat">elDateFormat</a></li><li><a href="global.html#exportXls">exportXls</a></li><li><a href="global.html#getBrowserModel">getBrowserModel</a></li><li><a href="global.html#getDefaultHeader">getDefaultHeader</a></li><li><a href="global.html#getDeviceModel">getDeviceModel</a></li><li><a href="global.html#getImgBase64">getImgBase64</a></li><li><a href="global.html#getParam">getParam</a></li><li><a href="global.html#getThumbnails">getThumbnails</a></li><li><a href="global.html#handleEmoji">handleEmoji</a></li><li><a href="global.html#handleParam">handleParam</a></li><li><a href="global.html#handleText">handleText</a></li><li><a href="global.html#isEmoji">isEmoji</a></li><li><a href="global.html#isIDCard">isIDCard</a></li><li><a href="global.html#isMobile">isMobile</a></li><li><a href="global.html#isSpecialChar">isSpecialChar</a></li><li><a href="global.html#parseTime">parseTime</a></li><li><a href="global.html#setParam">setParam</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Thu Jun 10 2021 09:41:25 GMT+0800 (GMT+08:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
